{% extends 'components/base.html' %}

{% block content %}
<div class="d-flex align-items-center justify-content-between border-bottom">
     <h1 class="mx-3">Rules</h1>
    <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#modal"> Add new rule </button>
</div>


{% include 'components/modal/rules.html' %}

{% if list %}
{% include 'components/table.html' %}

{% else %}
<p> There are no rules! </p>
{% endif %}

<script>
    function deleteEntry(btn){
        let row = btn.parentNode.parentNode;
        fetch('/rules', {
            method: 'DELETE',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ '_id': btn.value })
        })
        row.remove();
    }
</script>

{% endblock %}
